# 打包和工具链

在 Go 语言里，包是个非常重要的概念。其设计理念是使用包来封装不同语义单元的功能。这样做，能够更好地复用代码，并对包内的数据的使用有更好的控制。

## 包

所有 Go 语言的程序都会组织成若干组文件，每组文件被称为一个**包**。这样每个包的代码都可以作为很小的复用单元，被其他项目引用。看看标准库中的 
http 包是怎么利用包的特性组织功能的：

```go
net/http/
	cgi/
	cookiejar/
		testdata/
	fcgi/
	httptest/
	pprof/
	testdata/
```

这里目录包括一系列以`.go`为扩展名的相关文件。这些目录将实现 HTTP 服务器、客户端、测试工具和性能调试工具的相关代码拆分成功能清晰的、小的代码
单元。以 cookiejar 包为例，这个包里包含与存储和获取网页会话上的 cookie 相关的代码。每个包都可以单独导入和使用，以便开发者可以根据自己的需要
导入特定功能。例如，如果要实现 HTTP 客户端，只需要导入 http 包就可以。

所有的`.go`文件，除了空行和注释，都应该在第一行声明自己所属的包。每个包都在一个单独的目录里。不能把多个包放在同一个目录中，也不能把同一个包的
件分拆到多个不同的目录中。这意味着，同一个目录下的所有`.go`文件都必须声明同一个包名。

### 包名惯例

给包命名的惯例是使用包所在目录的名字。这让用户在导入包的时候，就能清晰地知道包名。以 net/http 包为例，在 http 目录下的所有文件都属于 http 
包。给包及其目录命名时，应该使用简洁、清晰且全小写的名字，这有利于开发时频繁输入包名。

记住，不需要所有包的名字都与别的包不同，因为导入包时是使用全路径的，所以可以区分同名的不同名。一般情况下，包被导入后会使用包名作为默认的名字，
不过这个导入后的名字可以修改。

### main 包

在 Go 语言里，命名为 main 的包具有特殊的含义。Go 语言的编译程序会试图把这种名字的包编译为二进制可执行文件。所有用 Go 语言编译的可执行程序都
必须有一个名为 main 的包。

当编译器发现某个包的名字为 main 时，它一定也会发现名为 main() 的函数，否则不会创建可执行文件。main() 函数是程序的入口，所以没有这个函数，程
序就无法开始执行。程序编译时，会使用声明 main 包的代码所在的目录的目录名作为二进制可执行文件的文件名。

```go
命令和包    Go 文档里经常使用命令(command)这个词来指代可执行程序，如命令行应用程序，这会让新手在阅读文档时产生困惑。记住，在 Go 语言里，命
令是指任何可执行程序，作为对比，包更常用来指语义上可导入的功能单元。
```


